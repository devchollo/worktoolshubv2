<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Primary Meta Tags -->
  <title>Free AI Image Generator & Logo Maker - Create Stunning Art Instantly | WorkToolsHub</title>
  <meta name="title" content="Free AI Image Generator & Logo Maker - Create Stunning Art Instantly | WorkToolsHub" />
  <meta name="description" content="Generate professional logos, artwork, and designs with AI in seconds. Free AI image generator powered by Gemini. Create JPG, PNG, WebP images up to 1792x1024px. No signup required." />
  <meta name="keywords" content="AI image generator, free AI art generator, logo generator, AI logo maker, text to image, AI art, Gemini AI, free image creation, logo design tool, AI graphic design, online logo maker, AI artwork generator" />
  <meta name="author" content="WorkToolsHub" />
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.worktoolshub.info/views/tools/ai-image-generator.html" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.worktoolshub.info/views/tools/ai-image-generator.html" />
  <meta property="og:title" content="Free AI Image Generator & Logo Maker - Create Stunning Art Instantly" />
  <meta property="og:description" content="Generate professional logos, artwork, and designs with AI in seconds. Free AI image generator powered by Gemini. No signup required." />
  <meta property="og:image" content="https://www.worktoolshub.info/assets/icon-512.png" />
  <meta property="og:image:width" content="512" />
  <meta property="og:image:height" content="512" />
  <meta property="og:site_name" content="WorkToolsHub" />
  <meta property="og:locale" content="en_US" />
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://www.worktoolshub.info/views/tools/ai-image-generator.html" />
  <meta name="twitter:title" content="Free AI Image Generator & Logo Maker" />
  <meta name="twitter:description" content="Generate professional logos, artwork, and designs with AI in seconds. Free, fast, and powerful." />
  <meta name="twitter:image" content="https://www.worktoolshub.info/assets/icon-512.png" />
  
  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="512x512" href="/assets/icon-512.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/icon-192.png" />
  <link rel="apple-touch-icon" href="/assets/icon-192.png" />
  
  <!-- Preconnect for Performance -->
  <link rel="preconnect" href="https://worktoolshubv2.onrender.com" />
  <link rel="dns-prefetch" href="https://worktoolshubv2.onrender.com" />
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="../styles/main.css" />
  <link rel="stylesheet" href="../styles/tools.css" />
  
  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "AI Image Generator",
    "applicationCategory": "DesignApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "description": "Generate professional logos, artwork, and designs with AI in seconds. Free AI image generator powered by Gemini.",
    "url": "https://www.worktoolshub.info/views/tools/ai-image-generator.html",
    "image": "https://www.worktoolshub.info/assets/icon-512.png",
    "provider": {
      "@type": "Organization",
      "name": "WorkToolsHub",
      "url": "https://www.worktoolshub.info"
    },
    "featureList": [
      "AI-powered image generation",
      "Logo creation",
      "Multiple art styles (Photorealistic, Artistic, Minimalist, Abstract)",
      "Customizable image sizes (1024x1024, 1024x1792, 1792x1024)",
      "Generate up to 4 images at once",
      "Free to use, no signup required"
    ],
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "1250",
      "bestRating": "5",
      "worstRating": "1"
    }
  }
  </script>
  
  <style>
    :root {
      --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      --shadow-glow: 0 8px 32px rgba(102, 126, 234, 0.3);
    }

    .image-gen-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    .tool-header {
      text-align: center;
      margin-bottom: 3rem;
      animation: fadeInUp 0.6s ease;
    }

    .tool-header h1 {
      background: var(--gradient-1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1.5fr;
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .control-panel {
      background: var(--bg-color);
      border: 2px solid var(--border-color);
      border-radius: 20px;
      padding: 2rem;
      height: fit-content;
      position: sticky;
      top: 100px;
      box-shadow: var(--shadow-lg);
    }

    .section-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .prompt-container {
      margin-bottom: 2rem;
    }

    .prompt-textarea {
      width: 100%;
      min-height: 120px;
      padding: 1rem;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      font-size: 1rem;
      font-family: inherit;
      resize: vertical;
      transition: all 0.3s ease;
      background: var(--surface-color);
    }

    .prompt-textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    }

    .prompt-suggestions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .suggestion-chip {
      background: var(--surface-color);
      border: 1px solid var(--border-color);
      padding: 0.5rem 1rem;
      border-radius: 50px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .suggestion-chip:hover {
      background: #667eea;
      color: white;
      border-color: #667eea;
      transform: translateY(-2px);
    }

    .style-selector {
      margin-bottom: 2rem;
    }

    .style-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    .style-option {
      position: relative;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      background: var(--surface-color);
    }

    .style-option:hover {
      border-color: #667eea;
      transform: translateY(-2px);
      box-shadow: var(--shadow-glow);
    }

    .style-option.selected {
      border-color: #667eea;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
    }

    .style-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .style-name {
      font-weight: 600;
      color: var(--text-primary);
    }

    .advanced-options {
      border-top: 1px solid var(--border-color);
      padding-top: 1.5rem;
      margin-top: 1.5rem;
    }

    .option-group {
      margin-bottom: 1.5rem;
    }

    .option-label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--text-primary);
      font-size: 0.875rem;
    }

    .size-selector {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
    }

    .size-option {
      padding: 0.75rem;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease;
      background: var(--surface-color);
      font-size: 0.875rem;
    }

    .size-option:hover {
      border-color: #667eea;
    }

    .size-option.selected {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    .number-input {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      font-size: 1rem;
    }

    .generate-btn {
      width: 100%;
      background: var(--gradient-1);
      color: white;
      border: none;
      padding: 1.25rem 2rem;
      border-radius: 12px;
      font-size: 1.125rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 2rem;
      position: relative;
      overflow: hidden;
    }

    .generate-btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: var(--shadow-glow);
    }

    .generate-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .generate-btn .btn-text {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .generate-btn .loading-spinner {
      display: none;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .generate-btn.loading .btn-text {
      display: none;
    }

    .generate-btn.loading .loading-spinner {
      display: flex;
    }

    .spinner {
      width: 24px;
      height: 24px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top: 3px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    .results-section {
      background: var(--bg-color);
      border: 2px solid var(--border-color);
      border-radius: 20px;
      padding: 2rem;
      min-height: 600px;
      box-shadow: var(--shadow-lg);
    }

    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      min-height: 500px;
      text-align: center;
      color: var(--text-secondary);
    }

    .empty-icon {
      font-size: 5rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    .generated-images {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .image-card {
      background: var(--surface-color);
      border: 2px solid var(--border-color);
      border-radius: 16px;
      overflow: hidden;
      transition: all 0.3s ease;
      animation: fadeInUp 0.5s ease;
    }

    .image-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-glow);
    }

    .image-wrapper {
      position: relative;
      width: 100%;
      padding-top: 100%;
      background: var(--surface-color);
      overflow: hidden;
    }

    .generated-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .image-loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .image-actions {
      padding: 1rem;
      display: flex;
      gap: 0.5rem;
    }

    .action-btn {
      flex: 1;
      padding: 0.75rem;
      border: none;
      border-radius: 8px;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .download-btn {
      background: #10b981;
      color: white;
    }

    .download-btn:hover {
      background: #059669;
      transform: translateY(-1px);
    }

    .status-message {
      padding: 1rem 1.5rem;
      border-radius: 12px;
      margin-bottom: 1.5rem;
      font-weight: 600;
      display: none;
      animation: slideIn 0.3s ease;
    }

    .status-message.success {
      background: #d1fae5;
      border: 2px solid #a7f3d0;
      color: #065f46;
      display: block;
    }

    .status-message.error {
      background: #fee2e2;
      border: 2px solid #fecaca;
      color: #dc2626;
      display: block;
    }

    .status-message.info {
      background: #dbeafe;
      border: 2px solid #bfdbfe;
      color: #1e40af;
      display: block;
    }

    .history-section {
      margin-top: 3rem;
      padding: 2rem;
      background: var(--surface-color);
      border-radius: 20px;
      border: 2px solid var(--border-color);
    }

    .history-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .history-item {
      position: relative;
      aspect-ratio: 1;
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .history-item:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-lg);
    }

    .history-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @media (max-width: 1024px) {
      .main-grid {
        grid-template-columns: 1fr;
      }

      .control-panel {
        position: relative;
        top: 0;
      }

      .tool-header h1 {
        font-size: 2rem;
      }
    }

    @media (max-width: 768px) {
      .style-grid {
        grid-template-columns: 1fr;
      }

      .size-selector {
        grid-template-columns: 1fr;
      }

      .generated-images {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div id="header"></div>
  
  <!-- Breadcrumb Navigation for SEO -->
  <div id="bread"></div>

  <main>
    <article class="image-gen-container">
      <div id="user-info" style="margin-bottom: 1rem;"></div>
      
      <header class="tool-header">
        <h1>🎨 Free AI Image Generator & Logo Maker</h1>
        <p class="subtitle">
          Create stunning logos, artwork, and professional designs with the power of AI. Generate high-quality images in seconds - completely free, no signup required.
        </p>
      </header>

      <div class="main-grid">
        <!-- Control Panel -->
        <aside class="control-panel" role="form" aria-label="Image generation controls">
          <h2 class="section-title">
            <span aria-hidden="true">✨</span> Describe Your Vision
          </h2>

          <div class="prompt-container">
            <label for="promptInput" class="visually-hidden">Image description prompt</label>
            <textarea 
              id="promptInput"
              class="prompt-textarea"
              placeholder="Describe the image you want to create... (e.g., 'A modern minimalist logo for a tech startup, blue and white colors, clean lines')"
              maxlength="2000"
              aria-describedby="promptHelp"
            ></textarea>
            <div id="promptHelp" class="visually-hidden">Enter a detailed description of the image you want to generate</div>
            
            <div class="prompt-suggestions" role="list" aria-label="Prompt suggestions">
              <button type="button" class="suggestion-chip" data-prompt="Modern minimalist logo for a tech startup, blue gradient">Tech Logo</button>
              <button type="button" class="suggestion-chip" data-prompt="Elegant restaurant logo with fork and knife, gold and black colors">Restaurant Logo</button>
              <button type="button" class="suggestion-chip" data-prompt="Abstract geometric pattern, vibrant colors, modern art style">Abstract Art</button>
              <button type="button" class="suggestion-chip" data-prompt="Professional business card design, clean and minimal">Business Card</button>
            </div>
          </div>

          <section class="style-selector">
            <h3 class="section-title">
              <span aria-hidden="true">🎭</span> Choose Style
            </h3>
            <div class="style-grid" role="radiogroup" aria-label="Image style selection">
              <button type="button" class="style-option selected" data-style="photorealistic" role="radio" aria-checked="true">
                <div class="style-icon" aria-hidden="true">📸</div>
                <div class="style-name">Photorealistic</div>
              </button>
              <button type="button" class="style-option" data-style="artistic" role="radio" aria-checked="false">
                <div class="style-icon" aria-hidden="true">🎨</div>
                <div class="style-name">Artistic</div>
              </button>
              <button type="button" class="style-option" data-style="minimalist" role="radio" aria-checked="false">
                <div class="style-icon" aria-hidden="true">⬜</div>
                <div class="style-name">Minimalist</div>
              </button>
              <button type="button" class="style-option" data-style="abstract" role="radio" aria-checked="false">
                <div class="style-icon" aria-hidden="true">🌀</div>
                <div class="style-name">Abstract</div>
              </button>
            </div>
          </section>

          <section class="advanced-options">
            <h3 class="section-title">
              <span aria-hidden="true">⚙️</span> Advanced Options
            </h3>

            <div class="option-group">
              <label class="option-label" for="sizeSelector">Image Size</label>
              <div class="size-selector" id="sizeSelector" role="radiogroup" aria-label="Image size selection">
                <button type="button" class="size-option selected" data-size="1024x1024" role="radio" aria-checked="true">Square<br/>1024×1024</button>
                <button type="button" class="size-option" data-size="1024x1792" role="radio" aria-checked="false">Portrait<br/>1024×1792</button>
                <button type="button" class="size-option" data-size="1792x1024" role="radio" aria-checked="false">Landscape<br/>1792×1024</button>
              </div>
            </div>

            <div class="option-group">
              <label class="option-label" for="numImages">Number of Images (1-4)</label>
              <input type="number" id="numImages" class="number-input" min="1" max="4" value="1" aria-describedby="numImagesHelp" />
              <div id="numImagesHelp" class="visually-hidden">Generate between 1 and 4 images at once</div>
            </div>
          </section>

          <button type="button" class="generate-btn" id="generateBtn" aria-label="Generate AI images">
            <span class="btn-text">
              <span aria-hidden="true">✨</span>
              <span>Generate Images</span>
            </span>
            <span class="loading-spinner" aria-live="polite" aria-busy="true">
              <div class="spinner" aria-hidden="true"></div>
              <span>Creating magic...</span>
            </span>
          </button>
        </aside>

        <!-- Results Section -->
        <section class="results-section" aria-live="polite" aria-label="Generated images">
          <div id="statusMessage" class="status-message" role="alert"></div>

          <div id="emptyState" class="empty-state">
            <div class="empty-icon" aria-hidden="true">🎨</div>
            <h2>Ready to Create</h2>
            <p>Describe your vision and watch AI bring it to life</p>
          </div>

          <div id="generatedImages" class="generated-images" style="display: none;"></div>
        </section>
      </div>

      <!-- History Section -->
      <section class="history-section" id="historySection" style="display: none;">
        <h2 class="section-title">
          <span aria-hidden="true">📂</span> Recent Generations
        </h2>
        <div class="history-grid" id="historyGrid"></div>
      </section>

      <!-- SEO Content Section -->
      <section style="margin-top: 4rem; padding: 2rem; background: var(--surface-color); border-radius: 20px;">
        <h2 style="font-size: 2rem; margin-bottom: 1.5rem; color: var(--text-primary);">About Our Free AI Image Generator</h2>
        
        <div style="line-height: 1.8; color: var(--text-secondary);">
          <h3 style="font-size: 1.5rem; margin: 2rem 0 1rem; color: var(--text-primary);">Create Professional Images with AI Technology</h3>
          <p style="margin-bottom: 1rem;">
            Our AI image generator uses advanced artificial intelligence to transform your text descriptions into stunning visual content. Whether you need a professional logo, custom artwork, or unique designs, our free tool makes it easy to generate high-quality images in seconds.
          </p>

          <h3 style="font-size: 1.5rem; margin: 2rem 0 1rem; color: var(--text-primary);">Key Features</h3>
          <ul style="margin-bottom: 1.5rem; padding-left: 2rem;">
            <li><strong>Free Forever:</strong> No subscription fees, no hidden costs. Generate unlimited images completely free.</li>
            <li><strong>Multiple Styles:</strong> Choose from Photorealistic, Artistic, Minimalist, or Abstract styles to match your vision.</li>
            <li><strong>Flexible Sizes:</strong> Generate images in square (1024x1024), portrait (1024x1792), or landscape (1792x1024) formats.</li>
            <li><strong>Batch Generation:</strong> Create up to 4 images at once to explore different variations of your idea.</li>
            <li><strong>No Signup Required:</strong> Start creating immediately without any registration or login.</li>
            <li><strong>Instant Download:</strong> Download your generated images in high quality PNG format.</li>
          </ul>

          <h3 style="font-size: 1.5rem; margin: 2rem 0 1rem; color: var(--text-primary);">How to Use the AI Image Generator</h3>
          <ol style="margin-bottom: 1.5rem; padding-left: 2rem;">
            <li><strong>Describe Your Image:</strong> Enter a detailed description of what you want to create in the text box.</li>
            <li><strong>Choose a Style:</strong> Select from Photorealistic, Artistic, Minimalist, or Abstract styles.</li>
            <li><strong>Select Size:</strong> Pick your preferred image dimensions - square, portrait, or landscape.</li>
            <li><strong>Generate:</strong> Click the "Generate Images" button and wait 10-30 seconds for AI to create your masterpiece.</li>
            <li><strong>Download:</strong> Save your favorite images directly to your device with one click.</li>
          </ol>

          <h3 style="font-size: 1.5rem; margin: 2rem 0 1rem; color: var(--text-primary);">Perfect for Various Use Cases</h3>
          <p style="margin-bottom: 1rem;">
            Our AI image generator is ideal for designers, marketers, content creators, and businesses of all sizes. Create stunning visuals for:
          </p>
          <ul style="margin-bottom: 1.5rem; padding-left: 2rem;">
            <li>Logo design and branding</li>
            <li>Social media graphics and posts</li>
            <li>Website illustrations and headers</li>
            <li>Marketing materials and advertisements</li>
            <li>Presentation slides and documents</li>
            <li>Blog post featured images</li>
            <li>Product mockups and concepts</li>
            <li>Digital art and creative projects</li>
          </ul>

          <h3 style="font-size: 1.5rem; margin: 2rem 0 1rem; color: var(--text-primary);">Why Choose WorkToolsHub's AI Generator?</h3>
          <p style="margin-bottom: 1rem;">
            Unlike other AI image generators that require subscriptions or limit your creations, our tool is completely free and unlimited. Powered by advanced Gemini AI technology, we deliver professional-quality results that rival expensive design software and paid AI tools. No watermarks, no restrictions - just pure creative freedom.
          </p>
        </div>
      </section>
    </article>
  </main>

  <div id="footer"></div>

  <script src="../scripts/layout.js"></script>
  <script type="module" src="../scripts/main.js" defer></script>
  <script src="../scripts/footer.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', async () => {
        class AIImageGenerator {
          constructor() {
            this.promptInput = document.getElementById('promptInput');
            this.generateBtn = document.getElementById('generateBtn');
            this.statusMessage = document.getElementById('statusMessage');
            this.emptyState = document.getElementById('emptyState');
            this.generatedImages = document.getElementById('generatedImages');
            this.historySection = document.getElementById('historySection');
            this.historyGrid = document.getElementById('historyGrid');
            this.numImagesInput = document.getElementById('numImages');

            this.selectedStyle = 'photorealistic';
            this.selectedSize = '1024x1024';
            this.currentPrompt = '';
            this.history = this.loadHistory();

            this.init();
          }

          init() {
            this.bindEvents();
            this.renderHistory();
          }

          bindEvents() {
            this.generateBtn.addEventListener('click', () => this.generateImages());

            document.querySelectorAll('.suggestion-chip').forEach(chip => {
              chip.addEventListener('click', (e) => {
                this.promptInput.value = e.target.dataset.prompt;
                this.promptInput.focus();
              });
            });

            document.querySelectorAll('.style-option').forEach(option => {
              option.addEventListener('click', (e) => {
                document.querySelectorAll('.style-option').forEach(o => {
                  o.classList.remove('selected');
                  o.setAttribute('aria-checked', 'false');
                });
                e.currentTarget.classList.add('selected');
                e.currentTarget.setAttribute('aria-checked', 'true');
                this.selectedStyle = e.currentTarget.dataset.style;
              });
            });

            document.querySelectorAll('.size-option').forEach(option => {
              option.addEventListener('click', (e) => {
                document.querySelectorAll('.size-option').forEach(o => {
                  o.classList.remove('selected');
                  o.setAttribute('aria-checked', 'false');
                });
                e.currentTarget.classList.add('selected');
                e.currentTarget.setAttribute('aria-checked', 'true');
                this.selectedSize = e.currentTarget.dataset.size;
              });
            });

            this.promptInput.addEventListener('keydown', (e) => {
              if (e.key === 'Enter' && e.ctrlKey) {
                this.generateImages();
              }
            });
          }

          async generateImages() {
            const prompt = this.promptInput.value.trim();
            const numImages = parseInt(this.numImagesInput.value) || 1;

            if (!prompt) {
              this.showStatus('Please describe what you want to create', 'error');
              this.promptInput.focus();
              return;
            }

            if (numImages < 1 || numImages > 4) {
              this.showStatus('Please select 1-4 images', 'error');
              return;
            }

            this.currentPrompt = prompt;
            this.generateBtn.disabled = true;
            this.generateBtn.classList.add('loading');
            this.generateBtn.setAttribute('aria-busy', 'true');
            this.showStatus('Generating your images... This may take 10-30 seconds', 'info');

            try {
              const response = await fetch('https://worktoolshubv2.onrender.com/api/images/generate', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                  prompt: prompt,
                  style: this.selectedStyle,
                  size: this.selectedSize,
                  numImages: numImages
                }),
              });

              if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.message || `Generation failed: ${response.status}`);
              }

              const result = await response.json();
              
              this.displayImages(result.images, prompt);
              this.saveToHistory(prompt);
              this.showStatus(`Successfully generated ${result.images.length} image(s)!`, 'success');

            } catch (error) {
              console.error('Generation error:', error);
              this.showStatus(`Failed to generate images: ${error.message}`, 'error');
            } finally {
              this.generateBtn.disabled = false;
              this.generateBtn.classList.remove('loading');
              this.generateBtn.setAttribute('aria-busy', 'false');
            }
          }

          displayImages(images, prompt) {
            this.emptyState.style.display = 'none';
            this.generatedImages.style.display = 'grid';
            this.generatedImages.innerHTML = '';

            images.forEach((imageData, index) => {
              const card = document.createElement('div');
              card.className = 'image-card';
              
              card.innerHTML = `
                <div class="image-wrapper">
                  <img 
                    src="${this.escapeHtml(imageData.url)}" 
                    alt="${this.escapeHtml(prompt)} - AI generated image ${index + 1}"
                    class="generated-image"
                    loading="lazy"
                  />
                </div>
                <div class="image-actions">
                  <button class="action-btn download-btn" data-url="${this.escapeHtml(imageData.url)}" data-prompt="${this.escapeHtml(prompt)}" aria-label="Download image ${index + 1}">
                    💾 Download
                  </button>
                </div>
              `;

              card.querySelector('.download-btn').addEventListener('click', (e) => {
                this.downloadImage(e.currentTarget.dataset.url, e.currentTarget.dataset.prompt);
              });

              this.generatedImages.appendChild(card);
            });
          }

          async downloadImage(url, prompt) {
            try {
              const response = await fetch(url);
              const blob = await response.blob();
              const downloadUrl = URL.createObjectURL(blob);
              
              const a = document.createElement('a');
              a.href = downloadUrl;
              a.download = `ai-generated-${Date.now()}.png`;
              document.body.appendChild(a);
              a.click();
              document.body.removeChild(a);
              URL.revokeObjectURL(downloadUrl);

              this.showStatus('Image downloaded successfully!', 'success');
            } catch (error) {
              console.error('Download error:', error);
              this.showStatus('Failed to download image', 'error');
            }
          }

          saveToHistory(prompt) {
            const historyItem = {
              prompt: prompt,
              style: this.selectedStyle,
              size: this.selectedSize,
              timestamp: Date.now()
            };

            this.history.unshift(historyItem);
            
            if (this.history.length > 10) {
              this.history = this.history.slice(0, 10);
            }

            try {
              localStorage.setItem('ai_image_history', JSON.stringify(this.history));
            } catch (e) {
              console.warn('History storage full, clearing old items');
              localStorage.removeItem('ai_image_history');
              this.history = [historyItem];
              try {
                localStorage.setItem('ai_image_history', JSON.stringify(this.history));
              } catch (e2) {
                console.error('Could not save history');
              }
            }
            
            this.renderHistory();
          }

          loadHistory() {
            try {
              const saved = localStorage.getItem('ai_image_history');
              return saved ? JSON.parse(saved) : [];
            } catch (error) {
              console.error('Failed to load history:', error);
              return [];
            }
          }

          renderHistory() {
            if (this.history.length === 0) {
              this.historySection.style.display = 'none';
              return;
            }

            this.historySection.style.display = 'block';
            this.historyGrid.innerHTML = '';

            this.history.slice(0, 12).forEach((item) => {
              const historyItem = document.createElement('button');
              historyItem.className = 'history-item';
              historyItem.setAttribute('type', 'button');
              historyItem.setAttribute('aria-label', `Load prompt: ${item.prompt}`);
              historyItem.style.cssText = 'cursor:pointer;padding:1rem;background:var(--surface-color);border-radius:8px;border:1px solid var(--border-color);text-align:left;';
              historyItem.innerHTML = `
                <div style="font-size:0.875rem;color:var(--text-primary);margin-bottom:0.5rem;">
                  ${this.escapeHtml(item.prompt.substring(0, 50))}${item.prompt.length > 50 ? '...' : ''}
                </div>
                <div style="font-size:0.75rem;color:var(--text-secondary);">
                  ${item.style} • ${item.size}
                </div>
              `;

              historyItem.addEventListener('click', () => {
                this.promptInput.value = item.prompt;
                this.selectedStyle = item.style;
                this.selectedSize = item.size;
                
                document.querySelectorAll('.style-option').forEach(o => {
                  const isSelected = o.dataset.style === item.style;
                  o.classList.toggle('selected', isSelected);
                  o.setAttribute('aria-checked', isSelected ? 'true' : 'false');
                });
                document.querySelectorAll('.size-option').forEach(o => {
                  const isSelected = o.dataset.size === item.size;
                  o.classList.toggle('selected', isSelected);
                  o.setAttribute('aria-checked', isSelected ? 'true' : 'false');
                });
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
              });

              this.historyGrid.appendChild(historyItem);
            });
          }

          showStatus(message, type) {
            this.statusMessage.textContent = message;
            this.statusMessage.className = `status-message ${type}`;

            if (type === 'success' || type === 'info') {
              setTimeout(() => {
                this.statusMessage.classList.remove('success', 'info');
              }, 5000);
            }
          }

          escapeHtml(unsafe) {
            return unsafe
              .replace(/&/g, "&amp;")
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;")
              .replace(/"/g, "&quot;")
              .replace(/'/g, "&#039;");
          }
        }

        window.aiImageGenerator = new AIImageGenerator();
    });
  </script>
</body>
</html>